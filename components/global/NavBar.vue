<template>
  <nav :class="$style.nav">
    <div class="burger-icon" @click="showMenu = !showMenu">
      <a v-if="!showMenu" href="#" >
        <svg  t="1681827940346" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8788" width="32" height="32"><path d="M133.310936 296.552327l757.206115 0c19.781623 0 35.950949-16.169326 35.950949-35.950949 0-19.781623-15.997312-35.950949-35.950949-35.950949L133.310936 224.650428c-19.781623 0-35.950949 16.169326-35.950949 35.950949C97.359987 280.383 113.529313 296.552327 133.310936 296.552327z" fill="#ffffff" p-id="8789"></path><path d="M890.51705 476.135058 133.310936 476.135058c-19.781623 0-35.950949 16.169326-35.950949 35.950949 0 19.781623 16.169326 35.950949 35.950949 35.950949l757.206115 0c19.781623 0 35.950949-16.169326 35.950949-35.950949C926.467999 492.304384 910.298673 476.135058 890.51705 476.135058z" fill="#ffffff" p-id="8790"></path><path d="M890.51705 727.447673 133.310936 727.447673c-19.781623 0-35.950949 15.997312-35.950949 35.950949s16.169326 35.950949 35.950949 35.950949l757.206115 0c19.781623 0 35.950949-15.997312 35.950949-35.950949S910.298673 727.447673 890.51705 727.447673z" fill="#ffffff" p-id="8791"></path></svg>
      </a>
      <a v-else href="#"  >
        <svg t="1681827990681" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2672" width="32" height="32"><path d="M557.311759 513.248864l265.280473-263.904314c12.54369-12.480043 12.607338-32.704421 0.127295-45.248112-12.512727-12.576374-32.704421-12.607338-45.248112-0.127295L512.127295 467.904421 249.088241 204.063755c-12.447359-12.480043-32.704421-12.54369-45.248112-0.063647-12.512727 12.480043-12.54369 32.735385-0.063647 45.280796l262.975407 263.775299-265.151458 263.744335c-12.54369 12.480043-12.607338 32.704421-0.127295 45.248112 6.239161 6.271845 14.463432 9.440452 22.687703 9.440452 8.160624 0 16.319527-3.103239 22.560409-9.311437l265.216826-263.807983 265.440452 266.240344c6.239161 6.271845 14.432469 9.407768 22.65674 9.407768 8.191587 0 16.352211-3.135923 22.591372-9.34412 12.512727-12.480043 12.54369-32.704421 0.063647-45.248112L557.311759 513.248864z" fill="#ffffff" p-id="2673"></path></svg>
      </a>
    </div>
    <ul class="list" :class="{ active: showMenu }" @click="showMenu=false">
      <li>
        <nuxt-link
          exact
          :to="{ name: `index-${$i18n.locale}`}"
        >
          <svg t="1670584035422" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
               p-id="2342" width="28" height="28">
            <path
              d="M149.333333 960a85.333333 85.333333 0 0 1-85.333333-85.333333V331.221333a85.333333 85.333333 0 0 1 48.64-77.056l362.666667-172.693333a85.333333 85.333333 0 0 1 73.386666 0l362.666667 172.693333A85.333333 85.333333 0 0 1 960 331.221333V874.666667a85.333333 85.333333 0 0 1-85.333333 85.333333H149.333333zM505.386667 138.24l-2.56 1.024-362.666667 172.693333a21.333333 21.333333 0 0 0-11.989333 16.554667L128 331.221333V874.666667a21.333333 21.333333 0 0 0 18.837333 21.184L149.333333 896h192V661.333333a85.333333 85.333333 0 0 1 85.333334-85.333333h170.666666a85.333333 85.333333 0 0 1 85.333334 85.333333v234.666667h192a21.333333 21.333333 0 0 0 21.184-18.837333L896 874.666667V331.221333a21.333333 21.333333 0 0 0-9.792-17.941333l-2.368-1.322667-362.666667-172.693333a21.333333 21.333333 0 0 0-15.786666-1.024zM597.333333 640h-170.666666a21.333333 21.333333 0 0 0-21.184 18.837333L405.333333 661.333333v234.666667h213.333334V661.333333a21.333333 21.333333 0 0 0-18.837334-21.184L597.333333 640z"
              fill="#fff" p-id="2343"></path>
          </svg>
          <span>{{$t('index')}}</span>
        </nuxt-link>
      </li>
      <li>
        <nuxt-link
          :to="{ name: `movie-${$i18n.locale}` }"
        >
          <svg t="1670583104183" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
               p-id="2703" width="28" height="28">
            <path
              d="M512 42.667C771.2 42.667 981.333 252.8 981.333 512A467.84 467.84 0 0 1 845.27 842.453l-2.858 2.838-5.824 5.674a8.533 8.533 0 0 1-5.931 2.39h-85.973a4.267 4.267 0 0 1-2.39-7.787c2.198-1.493 4.054-2.816 5.611-3.904C850.496 768.107 917.334 647.851 917.334 512c0-223.85-181.483-405.333-405.334-405.333S106.667 288.149 106.667 512 288.149 917.333 512 917.333h418.133c4.694 0 8.534 3.84 8.534 8.534V972.8a8.533 8.533 0 0 1-8.534 8.533h-409.6l-0.81-0.064-7.723 0.064C252.8 981.333 42.667 771.2 42.667 512S252.8 42.667 512 42.667z m0 576A106.667 106.667 0 1 1 512 832a106.667 106.667 0 0 1 0-213.333z m0 64A42.667 42.667 0 1 0 512 768a42.667 42.667 0 0 0 0-85.333zM298.667 405.333a106.667 106.667 0 1 1 0 213.334 106.667 106.667 0 0 1 0-213.334z m426.666 0a106.667 106.667 0 1 1 0 213.334 106.667 106.667 0 0 1 0-213.334z m-426.666 64a42.667 42.667 0 1 0 0 85.334 42.667 42.667 0 0 0 0-85.334z m426.666 0a42.667 42.667 0 1 0 0 85.334 42.667 42.667 0 0 0 0-85.334zM512 192a106.667 106.667 0 1 1 0 213.333A106.667 106.667 0 0 1 512 192z m0 64a42.667 42.667 0 1 0 0 85.333A42.667 42.667 0 0 0 512 256z"
              p-id="2704" fill="#fff"></path>
          </svg>
          <span>{{$t('movie')}}</span>
        </nuxt-link>
      </li>
      <li>
        <nuxt-link
          :to="{ name: `tv-${$i18n.locale}` }"
        >
          <svg t="1670583161354" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
               p-id="2906" width="28" height="28">
            <path
              d="M66.133 153.6h797.988c38.789 0 70.279 31.531 70.279 70.364v539.77l23.467-23.467H159.879c-38.789 0-70.279-31.532-70.279-70.364v-539.77L66.133 153.6z m0-46.933H42.667v563.236c0 64.74 52.489 117.297 117.212 117.297H981.333V223.964c0-64.74-52.489-117.297-117.212-117.297H66.133z"
              fill="#fff" p-id="2907"></path>
            <path
              d="M408.297 766.223l-70.4 164.266c-5.105 11.913 0.413 25.708 12.326 30.814 11.912 5.105 25.708-0.413 30.813-12.326l70.4-164.266c5.105-11.913-0.413-25.708-12.325-30.814-11.913-5.105-25.708 0.413-30.814 12.326zM587.343 848.54l82.134 105.6c7.956 10.23 22.7 12.074 32.93 4.117s12.073-22.7 4.116-32.93l-82.133-105.6c-7.957-10.231-22.7-12.074-32.93-4.117s-12.074 22.7-4.117 32.93z"
              fill="#fff" p-id="2908"></path>
            <path
              d="M242.133 974.933h563.323c12.96 0 23.466-10.506 23.466-23.466S818.416 928 805.456 928H242.133c-12.96 0-23.466 10.506-23.466 23.467 0 12.96 10.506 23.466 23.466 23.466z"
              fill="#fff" p-id="2909"></path>
          </svg>
          <span>{{$t('tv')}}</span>
        </nuxt-link>
      </li>

      <li>
        <button
          class="search-toggle"
          type="button"
          aria-label="Search"
          aria-haspopup="true"
          :aria-expanded="`${searchOpen}`"
          @click="toggleSearch">
          <!-- eslint-disable-next-line -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <g fill="none" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-miterlimit="10">
              <path d="M16.4 16.7l6.3 6.5" />
              <ellipse cx="10.5" cy="9.8" rx="9.2" ry="9.1" />
            </g>
          </svg>
          <span style="color:#fff"> {{$t('search')}}</span>
        </button>
      </li>
    </ul>
      <svg :class="$style.logo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 190.24 81.52">
        <defs>
          <style>.cls-1 {
            fill: url(#linear-gradient);
          }</style>
          <linearGradient id="linear-gradient" y1="40.76" x2="190.24" y2="40.76" gradientUnits="userSpaceOnUse">
            <stop offset="0" stop-color="#b36d61" />
            <stop offset="0.56" stop-color="#ed5736" />
            <stop offset="1" stop-color="#E20813" />
          </linearGradient>
        </defs>
        <title>Asset 2</title>
        <g id="Layer_2" data-name="Layer 2">
          <g id="Layer_1-2" data-name="Layer 1">
            <path class="cls-1"
                  d="M105.67,36.06h66.9A17.67,17.67,0,0,0,190.24,18.4h0A17.67,17.67,0,0,0,172.57.73h-66.9A17.67,17.67,0,0,0,88,18.4h0A17.67,17.67,0,0,0,105.67,36.06Zm-88,45h76.9A17.67,17.67,0,0,0,112.24,63.4h0A17.67,17.67,0,0,0,94.57,45.73H17.67A17.67,17.67,0,0,0,0,63.4H0A17.67,17.67,0,0,0,17.67,81.06ZM10.41,35.42h7.8V6.92h10.1V0H.31v6.9h10.1Zm28.1,0h7.8V8.25h.1l9,27.15h6l9.3-27.15h.1V35.4h7.8V0H66.76l-8.2,23.1h-.1L50.31,0H38.51ZM152.43,55.67a15.07,15.07,0,0,0-4.52-5.52,18.57,18.57,0,0,0-6.68-3.08,33.54,33.54,0,0,0-8.07-1h-11.7v35.4h12.75a24.58,24.58,0,0,0,7.55-1.15A19.34,19.34,0,0,0,148.11,77a16.27,16.27,0,0,0,4.37-5.5,16.91,16.91,0,0,0,1.63-7.58A18.5,18.5,0,0,0,152.43,55.67ZM145,68.6A8.8,8.8,0,0,1,142.36,72a10.7,10.7,0,0,1-4,1.82,21.57,21.57,0,0,1-5,.55h-4.05v-21h4.6a17,17,0,0,1,4.67.63,11.66,11.66,0,0,1,3.88,1.87A9.14,9.14,0,0,1,145,59a9.87,9.87,0,0,1,1,4.52A11.89,11.89,0,0,1,145,68.6Zm44.63-.13a8,8,0,0,0-1.58-2.62A8.38,8.38,0,0,0,185.63,64a10.31,10.31,0,0,0-3.17-1v-.1a9.22,9.22,0,0,0,4.42-2.82,7.43,7.43,0,0,0,1.68-5,8.42,8.42,0,0,0-1.15-4.65,8.09,8.09,0,0,0-3-2.72,12.56,12.56,0,0,0-4.18-1.3,32.84,32.84,0,0,0-4.62-.33h-13.2v35.4h14.5a22.41,22.41,0,0,0,4.72-.5,13.53,13.53,0,0,0,4.28-1.65,9.42,9.42,0,0,0,3.1-3,8.52,8.52,0,0,0,1.2-4.68A9.39,9.39,0,0,0,189.66,68.47ZM170.21,52.72h5.3a10,10,0,0,1,1.85.18,6.18,6.18,0,0,1,1.7.57,3.39,3.39,0,0,1,1.22,1.13,3.22,3.22,0,0,1,.48,1.82,3.63,3.63,0,0,1-.43,1.8,3.4,3.4,0,0,1-1.12,1.2,4.92,4.92,0,0,1-1.58.65,7.51,7.51,0,0,1-1.77.2h-5.65Zm11.72,20a3.9,3.9,0,0,1-1.22,1.3,4.64,4.64,0,0,1-1.68.7,8.18,8.18,0,0,1-1.82.2h-7v-8h5.9a15.35,15.35,0,0,1,2,.15,8.47,8.47,0,0,1,2.05.55,4,4,0,0,1,1.57,1.18,3.11,3.11,0,0,1,.63,2A3.71,3.71,0,0,1,181.93,72.72Z" />
          </g>
        </g>
      </svg>

    <div :class="$style.langContainer" @click="changeLanguage">
      <a href="#">
        <svg t="1678177350583" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
             p-id="2040" width="28" height="28">
          <path
            d="M496 0C222.048 0 0 222.048 0 496S222.048 992 496 992 992 769.952 992 496 769.952 0 496 0z m431.2 480h-191.872c-1.76-70.88-14.368-138.592-36.736-200.576a522.688 522.688 0 0 0 119.552-70.304A429.856 429.856 0 0 1 927.2 480zM478.304 927.104c-53.184-44.288-97.792-101.792-130.432-168.576A495.904 495.904 0 0 1 480 736.8v190.368l-1.696-0.064z m35.328-862.208c60.352 50.24 109.6 117.536 142.912 196.032-45.632 15.584-94.112 24.64-144.576 26.24V64.8l1.664 0.096z m53.312 5.44a430.816 430.816 0 0 1 229.248 115.648 489.504 489.504 0 0 1-109.696 63.936c-29.12-69.024-69.984-130.048-119.552-179.584zM480 64.8v222.368a495.744 495.744 0 0 1-144.576-26.24c33.312-78.496 82.56-145.792 142.912-196.032L480 64.8zM305.472 249.952a490.72 490.72 0 0 1-109.664-63.936 430.72 430.72 0 0 1 229.248-115.648c-49.6 49.504-90.432 110.528-119.584 179.584z m17.888 40.48c49.344 17.12 101.92 27.104 156.64 28.768V480H288.672c1.728-67.008 13.6-131.04 34.688-189.568zM480 512v192.8a525.152 525.152 0 0 0-145.248 24.608A601.12 601.12 0 0 1 288.672 512H480z m-54.944 409.664a429.792 429.792 0 0 1-209.44-97.664 486.368 486.368 0 0 1 102.016-54.4 554.144 554.144 0 0 0 107.424 152.064z m86.944 5.536v-190.368c45.824 1.472 90.24 8.64 132.128 21.728-32.672 66.784-77.248 124.288-130.432 168.576a31.2 31.2 0 0 0-1.696 0.064z m162.368-157.6a490.24 490.24 0 0 1 102.016 54.4 430.08 430.08 0 0 1-209.44 97.664 554.816 554.816 0 0 0 107.424-152.064z m-17.12-40.192A525.568 525.568 0 0 0 512 704.8V512h191.328a601.792 601.792 0 0 1-46.08 217.408zM512 480V319.2a526.08 526.08 0 0 0 156.64-28.736c21.056 58.528 32.928 122.56 34.688 189.568H512zM173.888 209.12a523.2 523.2 0 0 0 119.52 70.304C271.04 341.408 258.432 409.12 256.672 480H64.8a429.728 429.728 0 0 1 109.088-270.88zM64.8 512h191.872a631.168 631.168 0 0 0 48.096 228.384 519.36 519.36 0 0 0-113.216 61.792A430.816 430.816 0 0 1 64.8 512z m735.648 290.144a520.192 520.192 0 0 0-113.248-61.792 631.2 631.2 0 0 0 48.128-228.384h191.872a430.848 430.848 0 0 1-126.752 290.176z"
            fill="#FFFFFF" p-id="2041"></path>
        </svg>
      </a>
      <button>{{ selectedLanguage }}</button>
    </div>

  </nav>
</template>
<script>
import { mapState } from "vuex";
// eslint-disable-next-line import/named
export default {
  data() {
    return {
      showMenu: false
    }
  },
  computed: {
    ...mapState("search", [
      "searchOpen"
    ]),
    selectedLanguage() {
      return this.$i18n.locale === "en" ? "English" : "中文";
    }
  },

  methods: {
    toggleSearch() {
      if (this.$route.name !== "search") {
        this.$store.commit("search/toggleSearch");
      }
    },
    changeLanguage() {
      this.$i18n.locale === "en" ? this.$i18n.locale = "zh" : this.$i18n.locale = "en";
      const path = this.$route.path;
      const query = this.$route.query;
      this.$router.replace({ path: `/${this.$i18n.locale}${path.replace(/^\/[^/]*/, "")}`, query });
      this.$store.commit("SET_LOCALE", this.$i18n.locale);
    }
  }

};
</script>

<style lang="scss" module>
@import '/assets/css/utilities/_variables.scss';

.nav {
  position: fixed;
  right: 0;
  top: 0;
  left: 0;
  z-index: 5;
  height: 4.5rem;
  margin-bottom: 4.5rem;
  //background-color: #000000;
  background-color: $base-bg;
  @media (max-width: $breakpoint-large) {
    display: flex;
    justify-content: space-between;
    background-color: $base-bg;
  }

  @media (min-width: $breakpoint-large) {
    top: 0;
    right: auto;
    width: 10rem;
    height: 100%;
    border-right: 1px solid $secondary-color;
  }

  .logo{
    @media (max-width: $breakpoint-large) {//小屏幕
      height: 60%;
      margin: auto auto;
    }
    @media (min-width: $breakpoint-large) {//大屏幕
      display: none;
    }
  }
  ul {
    @media (max-width: $breakpoint-large) {//小屏幕
      display: none;
      flex-direction: column;
      position: absolute;
      top:4.5rem;
      width: 30vw;
      //background-color:$base-bg;
      background-color: #151414;
      z-index:999;

    }
    @media (min-width: $breakpoint-large) {//大屏幕
      display: flex;
      height: 80%;
      flex-direction: column;
    }
    span{
      @media (max-width: $breakpoint-large) {//小屏幕
       font-size: 1.5rem;
        margin: 1rem;
      }
      @media (min-width: $breakpoint-large) {
        display: none;
      }
    }
    svg{
      @media (max-width: $breakpoint-large) {
        display: none;
      }
    }
    li {
      display: flex;
      flex: 1 1 auto;
      height: 100%;

      @media (min-width: $breakpoint-large) {
        flex: 0 1 auto;
        height: 10rem;
      }
    }
  }

  .langContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    @media (max-width: $breakpoint-large) {
      margin-right: 5px;
    }
    svg{
      margin: auto;
      max-width: 100%;
      max-height: 100%;
    }
    button {
      color: $base-font-color;
      font-size: 1.2rem;
      
    }

  }

  button {
    padding: 0;
    margin: 0;
    background: none;
  }

  a,
  button {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    outline: 0;
    transition: all 0.2s;

    &:hover,
    &:focus {
      opacity: 0.8;
    }
  }
}
</style>

<style lang="scss" scoped>
@import '/assets/css/utilities/_variables.scss';
.burger-icon{
margin: auto 5px;
  @media (min-width: $breakpoint-large){
    display: none;
  }
}
.active{
 display: flex;
}
a.nuxt-link-active {
  &:hover,
  &:focus {
    opacity: 1;
  }

  svg path {
    color: blue;
    fill: $primary-color;
  }
}
</style>
